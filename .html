<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              roboto: ["Roboto", "sans-serif"],
            },
          },
        },
      };
    </script>
  </head>
  <body>
    <div class="font-roboto">
      <div class="border border-[#d5cdcd] py-8 px-5 mb-10 text-center">
        <img
          class="mb-8 w-[150px] mx-auto"
          src="https://d1tgh8fmlzexmh.cloudfront.net/ccbp-dynamic-webapps/wiki-logo-img.png"
        />
        <input
          placeholder="Type a keyword and press Enter to search"
          type="search"
          class="w-full text-lg border border-[#d5cdcd] rounded px-2.5 py-2.5"
          id="searchInput"
        />
      </div>

      <div class="hidden" id="spinner">
        <div class="flex justify-center">
          <div
            class="animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"
            role="status"
          >
            <span class="sr-only">Loading...</span>
          </div>
        </div>
      </div>

      <div class="w-full pl-5" id="searchResults"></div>
    </div>
  </body>
   <script>
    let searchInputEl = document.getElementById("searchInput");
let searchResultsEl = document.getElementById("searchResults");
const spinnerEl = document.getElementById("spinner");

function createAndAppendSearchResult(result) {
  let resultItemEl = document.createElement("div");
  resultItemEl.classList.add("mb-5");

  let { link, title, description } = result;

  let titleEl = document.createElement("a");
  titleEl.href = link;
  titleEl.target = "_blank";
  titleEl.textContent = title;
  titleEl.classList.add("text-[22px]", "hover:underline", "text-[#007bff]");
  resultItemEl.appendChild(titleEl);

  let titleBreakEl = document.createElement("br");
  resultItemEl.appendChild(titleBreakEl);

  let urlEl = document.createElement("a");
  urlEl.classList.add("text-[#006621]", "no-underline");
  urlEl.href = link;
  urlEl.target = "_blank";
  urlEl.textContent = link;
  resultItemEl.appendChild(urlEl);

  let descriptionEl = document.createElement("p");
  descriptionEl.classList.add("text-[#444444]", "text-sm", "mt-1");
  descriptionEl.textContent = description;
  resultItemEl.appendChild(descriptionEl);

  searchResultsEl.appendChild(resultItemEl);
}
function displayResults(searchResults) {
  spinnerEl.classList.toggle("hidden");

  for (let result of searchResults) {
    createAndAppendSearchResult(result);
  }
}

function searchWikipedia(event) {
  if (event.key === "Enter") {
    spinnerEl.classList.toggle("hidden");

    searchResultsEl.textContent = "";

    let searchInput = searchInputEl.value;
    let url = "https://apis.ccbp.in/wiki-search?search=" + searchInput;
    let options = {
      method: "GET",
    };
    fetch(url, options)
      .then(function (response) {
        return response.json();
      })
      .then(function (jsonData) {
        let { search_results } = jsonData;
        displayResults(search_results);
      });
  }
}

searchInputEl.addEventListener("keydown", searchWikipedia);
   </script>
</html>